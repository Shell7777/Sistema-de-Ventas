Ω
UC:\Users\elvis\source\repos\WebApplication3\WebApplication3\App_Start\BundleConfig.cs
	namespace 	
WebApplication3
 
{ 
public 

class 
BundleConfig 
{ 
public		 
static		 
void		 
RegisterBundles		 *
(		* +
BundleCollection		+ ;
bundles		< C
)		C D
{

 	
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) ;
); <
.< =
Include= D
(D E
$str 7
)7 8
)8 9
;9 :
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) >
)> ?
.? @
Include@ G
(G H
$str 4
)4 5
)5 6
;6 7
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) >
)> ?
.? @
Include@ G
(G H
$str /
)/ 0
)0 1
;1 2
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) >
)> ?
.? @
Include@ G
(G H
$str .
). /
)/ 0
;0 1
bundles 
. 
Add 
( 
new 
StyleBundle '
(' (
$str( 7
)7 8
.8 9
Include9 @
(@ A
$str /
,/ 0
$str *
)* +
)+ ,
;, -
} 	
} 
} á
UC:\Users\elvis\source\repos\WebApplication3\WebApplication3\App_Start\FilterConfig.cs
	namespace 	
WebApplication3
 
{ 
public 

class 
FilterConfig 
{ 
public 
static 
void !
RegisterGlobalFilters 0
(0 1"
GlobalFilterCollection1 G
filtersH O
)O P
{		 	
filters

 
.

 
Add

 
(

 
new

  
HandleErrorAttribute

 0
(

0 1
)

1 2
)

2 3
;

3 4
} 	
} 
} Â
TC:\Users\elvis\source\repos\WebApplication3\WebApplication3\App_Start\RouteConfig.cs
	namespace 	
WebApplication3
 
{		 
public

 

class

 
RouteConfig

 
{ 
public 
static 
void 
RegisterRoutes )
() *
RouteCollection* 9
routes: @
)@ A
{ 	
routes 
. 
IgnoreRoute 
( 
$str ;
); <
;< =
routes 
. 
MapRoute 
( 
name 
: 
$str 
,  
url 
: 
$str 1
,1 2
defaults 
: 
new 
{ 

controller  *
=+ ,
$str- 3
,3 4
action5 ;
=< =
$str> E
,E F
idG I
=J K
UrlParameterL X
.X Y
OptionalY a
}b c
) 
; 
} 	
} 
} ó
UC:\Users\elvis\source\repos\WebApplication3\WebApplication3\App_Start\WebApiConfig.cs
	namespace 	
WebApplication3
 
{ 
public 

static 
class 
WebApiConfig $
{		 
public

 
static

 
void

 
Register

 #
(

# $
HttpConfiguration

$ 5
config

6 <
)

< =
{ 	
config 
. "
MapHttpAttributeRoutes )
() *
)* +
;+ ,
config 
. 
Routes 
. 
MapHttpRoute &
(& '
name 
: 
$str "
," #
routeTemplate 
: 
$str 6
,6 7
defaults 
: 
new 
{ 
id  "
=# $
RouteParameter% 3
.3 4
Optional4 <
}= >
) 
; 
} 	
} 
} „S
]C:\Users\elvis\source\repos\WebApplication3\WebApplication3\Controllers\ArticuloController.cs
	namespace 	
WebApplication3
 
. 
Controllers %
{ 
public 

class 
ArticuloController #
:$ %

Controller& 0
{ 
private 
IServiceArticulo  
service! (
;( )
private 
IServiceCategoria !
serviceCategoria" 2
;2 3
public 
ArticuloController !
(! "
)" #
{# $
service 
= 
new 
ArticuloService )
() *
)* +
;+ ,
serviceCategoria 
= 
new "
CategoriaService# 3
(3 4
)4 5
;5 6
} 	
public 
ArticuloController !
(! "
IServiceArticulo" 2
service3 :
): ;
{ 	
this 
. 
service 
= 
service "
;" #
} 	
public 
ArticuloController !
(! "
IServiceArticulo" 2
service3 :
,: ;
IServiceCategoria; L
serviceCategoriaM ]
)] ^
{ 	
this 
. 
service 
= 
service "
;" #
this   
.   
serviceCategoria   !
=  " #
serviceCategoria  $ 4
;  4 5
}!! 	
public## 
ActionResult## 
Index## !
(##! "
)##" #
{$$ 	
return%% 
View%% 
(%% 
service%% 
.%%  
ArtsList%%  (
(%%( )
)%%) *
)%%* +
;%%+ ,
}&& 	
['' 	
HttpGet''	 
]'' 
public(( 
ActionResult(( 
Create(( "
(((" #
)((# $
{((% &
ViewBag)) 
.)) 
	categoria)) 
=)) 
service))  '
.))' (#
ArtsListIncludeCategory))( ?
())? @
)))@ A
;))A B
return** 
View** 
(** 
new** 
Articulo** $
(**$ %
)**% &
)**& '
;**' (
}++ 	
[,, 	
HttpPost,,	 
],, 
public-- 
ActionResult-- 
Create-- "
(--" #
Articulo--# +
articulo--, 4
)--4 5
{--6 7
if.. 
(.. 
mValidaciones.. 
... 
Validar_Articulo.. .
(... /
articulo../ 7
)..7 8
...8 9
IsValid..9 @
)..@ A
{..B C
service// 
.// 
ArtAdd// 
(// 
articulo// '
)//' (
;//( )
service00 
.00 
SaveChanges00 #
(00# $
)00$ %
;00% &
return11 
RedirectToAction11 '
(11' (
$str11( /
)11/ 0
;110 1
}22 
ViewBag33 
.33 
	categoria33 
=33 
serviceCategoria33  0
.330 1
CatsList331 9
(339 :
)33: ;
;33; <
return44 
View44 
(44 
articulo44  
)44  !
;44! "
}55 	
[66 	
HttpGet66	 
]66 
public77 
ActionResult77 
Edit77  
(77  !
int77! $
?77$ %
id77& (
)77( )
{77* +
if88 
(88 
id88 
!=88 
null88 
)88 
{88 
ViewBag99 
.99 
cateoria99  
=99! "
serviceCategoria99# 3
.993 4
CatsList994 <
(99< =
)99= >
;99> ?
var:: 
valor:: 
=:: 
service:: #
.::# $
ArtIncludeCategory::$ 6
(::6 7
id::7 9
)::9 :
;::: ;
return;; 
View;; 
(;; 
valor;; !
);;! "
;;;" #
}<< 
return== 
RedirectToAction== #
(==# $
$str==$ +
)==+ ,
;==, -
}>> 	
[?? 	
HttpPost??	 
]?? 
public@@ 
ActionResult@@ 
Edit@@  
(@@  !
Articulo@@! )
articulo@@* 2
)@@2 3
{AA 	
validar_EditBB 
(BB 
articuloBB !
)BB! "
;BB" #
ifCC 
(CC 

ModelStateCC 
.CC 
IsValidCC "
)CC" #
{CC$ %
varDD 

articuloBDDD 
=DD  
serviceDD! (
.DD( )
FindArtDD) 0
(DD0 1
articuloDD1 9
.DD9 :
idDD: <
)DD< =
;DD= >

articuloBDEE 
.EE 
nombreEE !
=EE" #
articuloEE$ ,
.EE, -
nombreEE- 3
;EE3 4

articuloBDFF 
.FF 
codigoFF !
=FF" #
articuloFF$ ,
.FF, -
codigoFF- 3
;FF3 4

articuloBDGG 
.GG 
precio_ventaGG '
=GG' (
articuloGG) 1
.GG1 2
precio_ventaGG2 >
;GG> ?

articuloBDHH 
.HH 
descripcionHH &
=HH' (
articuloHH) 1
.HH1 2
descripcionHH2 =
;HH= >

articuloBDII 
.II 
	condicionII $
=II% &
articuloII' /
.II/ 0
	condicionII0 9
;II9 :
serviceKK 
.KK 
SaveChangesKK #
(KK# $
)KK$ %
;KK% &
returnLL 
RedirectToActionLL '
(LL' (
$strLL( /
)LL/ 0
;LL0 1
}MM 
returnNN 
ViewNN 
(NN 
articuloNN  
)NN  !
;NN! "
}PP 	
publicQQ 
ActionResultQQ 
DeleteQQ "
(QQ" #
intQQ# &
?QQ& '
idQQ( *
)QQ* +
{QQ, -
ifRR 
(RR 
idRR 
!=RR 
nullRR 
)RR 
{RR 
varSS 
product_desbledSS #
=SS$ %
serviceSS& -
.SS- .
FindArtSS. 5
(SS5 6
idSS6 8
)SS8 9
;SS9 :
product_desbledTT 
.TT  
	condicionTT  )
=TT* +
!TT, -
product_desbledTT- <
.TT< =
	condicionTT= F
;TTF G
}UU 
serviceVV 
.VV 
SaveChangesVV 
(VV  
)VV  !
;VV! "
returnWW 
RedirectToActionWW #
(WW# $
$strWW$ +
)WW+ ,
;WW, -
}XX 	
publicYY 
stringYY 
DropYY 
(YY 
intYY 
?YY 
idYY  "
)YY# $
{YY% &
ifZZ 
(ZZ 
idZZ 
!=ZZ 
nullZZ 
)ZZ 
{ZZ 
try[[ 
{\\ 
service]] 
.]] 
ArtDrop]] #
(]]# $
id]]$ &
)]]& '
;]]' (
return^^ 
(^^ 
$str^^ B
)^^B C
;^^C D
}__ 
catch`` 
(`` 
	Exception``  
e``! "
)``" #
{``$ %
returnaa 
eaa 
.aa 
Messageaa $
;aa$ %
}bb 
}dd 
returnee 
$stree $
;ee$ %
}gg 	
publicii 
ActionResultii 

Search_artii &
(ii& '
stringii' -
queryii. 3
)ii3 4
{ii5 6
ViewBagkk 
.kk 
Querykk 
=kk 
querykk !
;kk! "
varll 
listArticulosll 
=ll 
servicell  '
.ll' (-
!ArtsListInlcudeCategoryEqualsNamell( I
(llI J
queryllJ O
)llO P
;llP Q
returnmm 
Viewmm 
(mm 
listArticulosmm %
)mm% &
;mm& '
}nn 	
publicoo 
ActionResultoo 
	listUsersoo %
(oo% &
)oo& '
{oo( )
varpp 
usuarioListpp 
=pp 
servicepp %
.pp% &
ArtsListpp& .
(pp. /
)pp/ 0
;pp0 1
returnqq 
Viewqq 
(qq 
usuarioListqq #
)qq# $
;qq$ %
}rr 	
publicss 
voidss 
validar_Editss  
(ss  !
Articuloss! )
articuloss* 2
)ss2 3
{ss4 5
iftt 
(tt 
stringtt 
.tt 
IsNullOrEmptytt $
(tt$ %
articulott% -
.tt- .
nombrett. 4
)tt4 5
)tt5 6
{uu 

ModelStatevv 
.vv 
AddModelErrorvv (
(vv( )
$strvv) 1
,vv1 2
$strvv3 D
)vvD E
;vvE F
}ww 
ifyy 
(yy 
stringyy 
.yy 
IsNullOrEmptyyy $
(yy$ %
articuloyy% -
.yy- .
codigoyy. 4
)yy4 5
)yy5 6
{zz 

ModelState{{ 
.{{ 
AddModelError{{ (
({{( )
$str{{) 1
,{{1 2
$str{{3 O
){{O P
;{{P Q
}|| 
if}} 
(}} 
string}} 
.}} 
IsNullOrEmpty}} $
(}}$ %
articulo}}% -
.}}- .
descripcion}}. 9
)}}9 :
)}}: ;
{~~ 

ModelState 
. 
AddModelError (
(( )
$str) 6
,6 7
$str8 R
)R S
;S T
}
ÄÄ 
if
ÅÅ 
(
ÅÅ 
articulo
ÅÅ 
.
ÅÅ 
precio_venta
ÅÅ %
==
ÅÅ& (
null
ÅÅ) -
||
ÅÅ. 0
articulo
ÅÅ1 9
.
ÅÅ9 :
precio_venta
ÅÅ: F
<
ÅÅG H
$num
ÅÅI J
)
ÅÅJ K
{
ÇÇ 

ModelState
ÉÉ 
.
ÉÉ 
AddModelError
ÉÉ (
(
ÉÉ( )
$str
ÉÉ) 6
,
ÉÉ6 7
$str
ÉÉ8 T
)
ÉÉT U
;
ÉÉU V
}
ÑÑ 
}
çç 	
}
êê 
}ëë Í=
^C:\Users\elvis\source\repos\WebApplication3\WebApplication3\Controllers\CategoriaController.cs
	namespace 	
WebApplication3
 
. 
Controllers %
{ 
public 

class 
CategoriaController $
:% &

Controller' 1
{ 
private 
IServiceCategoria !
service" )
;) *
public 
CategoriaController "
(" #
)# $
{ 	
service 
= 
new 
CategoriaService *
(* +
)+ ,
;, -
} 	
public 
CategoriaController "
(" #
IServiceCategoria# 4
service5 <
)< =
{ 	
this 
. 
service 
= 
service "
;" #
} 	
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
service 
.  
CatsList  (
(( )
)) *
)* +
;+ ,
}   	
[!! 	
HttpGet!!	 
]!! 
public"" 
ActionResult"" 
Create"" "
(""" #
)""# $
{""% &
return## 
View## 
(## 
new## 
	Categoria## %
(##% &
)##& '
)##' (
;##( )
}$$ 	
[%% 	
HttpPost%%	 
]%% 
public&& 
ActionResult&& 
Create&& "
(&&" #
	Categoria&&# ,
categoriaView&&- :
)&&: ;
{&&< =
validar_Create'' 
('' 
categoriaView'' (
)''( )
;'') *
if(( 
((( 
service(( 
.(( 
	SiesUnico(( !
(((! "
categoriaView((" /
.((/ 0
nombre((0 6
)((6 7
)((7 8
{((9 :

ModelState)) 
.)) 
AddModelError)) (
())( )
$str))) 1
,))1 2
$str))3 f
)))f g
;))g h
HttpContext** 
.** 
Response** $
.**$ %

StatusCode**% /
=**0 1
$num**2 5
;**5 6
}++ 
if-- 
(-- 

ModelState-- 
.-- 
IsValid-- "
)--" #
{--$ %
service// 
.// 
CatAdd// 
(// 
categoriaView// ,
)//, -
;//- .
service00 
.00 
SaveChanges00 #
(00# $
)00$ %
;00% &
return11 
RedirectToAction11 '
(11' (
$str11( /
)11/ 0
;110 1
}22 
return33 
View33 
(33 
categoriaView33 %
)33% &
;33& '
}44 	
[55 	
HttpGet55	 
]55 
public66 
ActionResult66 
Edit66  
(66  !
int66! $
?66$ %
id66& (
)66) *
{66+ ,
if77 
(77 
id77 
!=77 
null77 
)77 
return77 "
View77# '
(77' (
service77) 0
.770 1
CatFind771 8
(778 9
id779 ;
)77; <
)77< =
;77= >
return99 
RedirectToAction99 #
(99# $
$str99$ +
)99+ ,
;99, -
}:: 	
[;; 	
HttpPost;;	 
];; 
public<< 
ActionResult<< 
Edit<<  
(<<  !
	Categoria<<! *
	categoria<<+ 4
)<<4 5
{<<6 7
validar_Edit== 
(== 
	categoria== "
)==" #
;==# $
if>> 
(>> 

ModelState>> 
.>> 
IsValid>> "
)>>" #
{>>$ %
var@@ 
categoriaBD@@ 
=@@  !
service@@" )
.@@) *
CatFind@@* 1
(@@1 2
	categoria@@2 ;
.@@; <
id@@< >
)@@> ?
;@@? @
categoriaBDAA 
.AA 
descripcionAA '
=AA( )
	categoriaAA* 3
.AA3 4
descripcionAA4 ?
;AA? @
categoriaBDBB 
.BB 
	condicionBB %
=BB& '
	categoriaBB( 1
.BB1 2
	condicionBB2 ;
;BB; <
serviceCC 
.CC 
SaveChangesCC #
(CC# $
)CC$ %
;CC% &
returnDD 
RedirectToActionDD '
(DD' (
$strDD( /
)DD/ 0
;DD0 1
}EE 
returnFF 
ViewFF 
(FF 
	categoriaFF !
)FF! "
;FF" #
}HH 	
publicII 
ActionResultII 
SearchCategoryII *
(II* +
stringII+ 1
queryII2 7
)II7 8
{II9 :
ViewBagJJ 
.JJ 
queryJJ 
=JJ 
queryJJ !
;JJ! "
varKK 
resultsKK 
=KK 
serviceKK !
.KK! "
CatsListEqualsNameKK" 4
(KK4 5
queryKK5 :
)KK: ;
;KK; <
returnLL 
ViewLL 
(LL 
resultsLL 
)LL  
;LL  !
}MM 	
[NN 	
HttpGetNN	 
]NN 
publicOO 
ActionResultOO 
DeleteOO "
(OO" #
intOO# &
?OO& '
idOO( *
)OO* +
{OO, -
ifPP 
(PP 
idPP 
==PP 
nullPP 
)PP 
returnPP "
RedirectToActionPP# 3
(PP3 4
$strPP4 ;
)PP; <
;PP< =
varQQ 
valorQQ 
=QQ 
serviceQQ 
.QQ  
CatFindQQ  '
(QQ' (
idQQ( *
)QQ* +
;QQ+ ,
valorRR 
.RR 
	condicionRR 
=RR 
!RR 
valorRR $
.RR$ %
	condicionRR% .
;RR. /
returnUU 
RedirectToActionUU #
(UU# $
$strUU$ +
)UU+ ,
;UU, -
}VV 	
publicXX 
voidXX 
validar_CreateXX "
(XX" #
	CategoriaXX# ,
	categoriaXX- 6
)XX6 7
{YY 	
ifZZ 
(ZZ 
StringZZ 
.ZZ 
IsNullOrEmptyZZ $
(ZZ$ %
	categoriaZZ% .
.ZZ. /
nombreZZ/ 5
)ZZ5 6
)ZZ6 7
{[[ 

ModelState\\ 
.\\ 
AddModelError\\ (
(\\( )
$str\\) 1
,\\1 2
$str\\3 G
)\\G H
;\\H I
}]] 
if^^ 
(^^ 
String^^ 
.^^ 
IsNullOrEmpty^^ $
(^^$ %
	categoria^^% .
.^^. /
descripcion^^/ :
)^^: ;
)^^; <
{__ 

ModelState`` 
.`` 
AddModelError`` (
(``( )
$str``) 6
,``6 7
$str``8 R
)``R S
;``S T
}aa 
}bb 	
publiccc 
voidcc 
validar_Editcc  
(cc  !
	Categoriacc! *
	categoriacc+ 4
)cc4 5
{cc6 7
ifdd 
(dd 
Stringdd 
.dd 
IsNullOrEmptydd $
(dd$ %
	categoriadd% .
.dd. /
descripciondd/ :
)dd: ;
)dd; <
{ee 

ModelStateff 
.ff 
AddModelErrorff (
(ff( )
$strff) 6
,ff6 7
$strff8 R
)ffR S
;ffS T
}gg 
}hh 	
}ii 
}jj õ	
YC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Controllers\HomeController.cs
	namespace 	
WebApplication3
 
. 
Controllers %
{ 
public		 

class		 
HomeController		 
:		  !

Controller		" ,
{

 
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
) 
; 
} 	
public 
ActionResult 
About !
(! "
)" #
{ 	
ViewBag 
. 
Message 
= 
$str B
;B C
return 
View 
( 
) 
; 
} 	
public 
ActionResult 
Contact #
(# $
)$ %
{ 	
ViewBag 
. 
Message 
= 
$str 2
;2 3
return 
View 
( 
) 
; 
} 	
} 
} É!
\C:\Users\elvis\source\repos\WebApplication3\WebApplication3\Controllers\IngresoController.cs
	namespace 	
WebApplication3
 
. 
Controllers %
{ 
public 

class 
IngresoController "
:# $

Controller% /
{ 
Context 
context 
= 
Context !
.! "

GetContext" ,
(, -
)- .
;. /
public 

JsonResult 
searchProduct '
(' (
string( .
query/ 4
)4 5
{6 7
if 
( 
String 
. 
IsNullOrEmpty $
($ %
query% *
)* +
)+ ,
{ 
return 
Json 
( 
context #
.# $
	Articulos$ -
.- .
ToList. 4
(4 5
)5 6
,6 7
JsonRequestBehavior8 K
.K L
AllowGetL T
)T U
;U V
} 
var 
findProducts 
= 
context &
.& '
	Articulos' 0
.0 1
Where1 6
(6 7
a7 8
=>9 ;
a< =
.= >
nombre> D
.D E
ContainsE M
(M N
queryN S
)S T
)T U
;U V
ViewBag 
. 
consulta 
= 
query $
;$ %
return 
Json 
( 
findProducts $
,$ %
JsonRequestBehavior& 9
.9 :
AllowGet: B
)B C
;C D
} 	
public 
int 
productCount 
(  
)  !
{" #
var 
asd 
= 
context 
. 
	Articulos '
.' (
ToList( .
(. /
)/ 0
;0 1
return 
asd 
. 
Count 
( 
) 
; 
} 	
public   
ActionResult   
Index   !
(  ! "
)  " #
{!! 	
return"" 
View"" 
("" 
context"" 
.""  
	Articulos""  )
."") *
ToList""* 0
(""0 1
)""1 2
)""2 3
;""3 4
}## 	
[$$ 	
HttpGet$$	 
]$$ 
public%% 
ActionResult%% 
AddNewArticulo%% *
(%%+ ,
)%%, -
{%%. /
return&& 
View&& 
(&& 
)&& 
;&& 
}'' 	
[(( 	
HttpPost((	 
](( 
public)) 
ActionResult)) 
AddNewArticulo)) *
())* +
Ingreso))+ 2
ingreso))3 :
))): ;
{** 	
return++ 
View++ 
(++ 
)++ 
;++ 
},, 	
[-- 	
HttpGet--	 
]-- 
public.. 
ActionResult.. 
addCountArticulo.. ,
(.., -
int..- 0
?..0 1
idArtiuculo..2 =
)..= >
{// 	
if00 
(00 
idArtiuculo00 
!=00 
null00 #
)00# $
{00% &
return11 
View11 
(11 
context11 $
.11$ %
	Articulos11% .
.11. /
Find11/ 3
(113 4
idArtiuculo114 ?
)11? @
)11@ A
;11A B
}22 
return33 
RedirectToAction33 #
(33# $
$str33$ +
)33+ ,
;33, -
}44 	
[55 	
HttpPost55	 
]55 
public66 
ActionResult66 
addCountArticulo66 ,
(66, -
Ingreso66- 4
ingreso665 <
)66< =
{66> ?
return77 
RedirectToAction77 #
(77# $
$str77$ +
)77+ ,
;77, -
}88 	
}@@ 
}BB ﬂ
ZC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Controllers\LoginController.cs
	namespace

 	
WebApplication3


 
.

 
Controllers

 %
{ 
public 

class 
LoginController  
:! "

Controller# -
{ 
[ 	
HttpGet	 
] 
public 
ActionResult 
IniciarSession *
(* +
)+ ,
{ 	
return 
View 
( 
new 

UserLogged &
(& '
)' (
)( )
;) *
} 	
[ 	
HttpPost	 
] 
public 
ActionResult 
IniciarSession *
(* +

UserLogged+ 5
usuario6 =
)= >
{ 	
Session 
[ 
$str 
] 
= 
usuario %
;% &
FormsAuthentication 
.  
SetAuthCookie  -
(- .
usuario. 5
.5 6
nombre6 <
,< =
false> C
)C D
;D E
return 
RedirectToAction #
(# $
$str$ +
)+ ,
;, -
} 	
[ 	
	Authorize	 
] 
public 
ActionResult 
Index !
(! "
)" #
{ 	
ViewBag 
. 
usuario 
= 
SessionInciada ,
(, -
)- .
.. /
nombre/ 5
;5 6
return   
View   
(   
)   
;   
}!! 	
[## 	
	Authorize##	 
]## 
private$$ 

UserLogged$$ 
SessionInciada$$ )
($$) *
)$$* +
{%% 	
return&& 
(&& 

UserLogged&& 
)&& 
Session&& &
[&&& '
$str&&' -
]&&- .
;&&. /
}'' 	
}(( 
})) °
\C:\Users\elvis\source\repos\WebApplication3\WebApplication3\Controllers\PersonaController.cs
	namespace		 	
WebApplication3		
 
.		 
Controllers		 %
{

 
public 

class 
PersonaController "
:# $

Controller% /
{ 
Context 
context 
= 
Context "
." #

GetContext# -
(- .
). /
;/ 0
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
context 
.  
Personas  (
.( )
ToList) /
(/ 0
)0 1
)1 2
;2 3
} 	
[ 	
HttpGet	 
] 
public 
ActionResult 
Create "
(" #
)# $
{% &
return 
View 
( 
) 
; 
} 	
[ 	
HttpPost	 
] 
public 
ActionResult 
Create "
(" #
Persona# *
persona+ 2
)2 3
{ 	
context 
. 
Personas 
. 
Add  
(  !
persona! (
)( )
;) *
context 
. 
SaveChanges 
(  
)  !
;! "
return 
RedirectToAction #
(# $
$str$ +
)+ ,
;, -
} 	
} 
} ∂
XC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Controllers\RolController.cs
	namespace

 	
WebApplication3


 
.

 
Controllers

 %
{ 
public 

class 
RolController 
:  

Controller! +
{ 
Context 
context 
= 
Context !
.! "

GetContext" ,
(, -
)- .
;. /
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
context 
.  
Rol  #
.# $
ToList$ *
(* +
)+ ,
), -
;- .
} 	
[ 	
HttpGet	 
] 
public 
ActionResult 
Create "
(" #
)# $
{% &
return 
View 
( 
new 
Rol 
(  
)  !
)! "
;" #
} 	
[ 	
HttpPost	 
] 
public 
ActionResult 
Create "
(" #
Rol# &
rolView' .
). /
{0 1
mValidaciones 
. 
Validar_Rol %
(% &
rolView& -
,- .

ModelState 
) 
; 
if 
( 

ModelState 
. 
IsValid "
)" #
{ 
context   
.   
Rol   
.   
Add   
(    
rolView    '
)  ' (
;  ( )
context!! 
.!! 
SaveChanges!! #
(!!# $
)!!$ %
;!!% &
return"" 
RedirectToAction"" '
(""' (
$str""( /
)""/ 0
;""0 1
}## 
return$$ 
View$$ 
($$ 
rolView$$ 
)$$  
;$$  !
}'' 	
public(( 
ActionResult(( 
Delete(( "
(((" #
int((# &
?((& '
id((( *
)((* +
{((, -
if)) 
()) 
id)) 
==)) 
null)) 
))) 
RedirectToAction)) ,
()), -
$str))- 4
)))4 5
;))5 6
context++ 
.++ 
Rol++ 
.++ 
Remove++ 
(++ 
context++ &
.++& '
Rol++' *
.++* +
Find+++ /
(++/ 0
id++0 2
)++2 3
)++3 4
;++4 5
context,, 
.,, 
SaveChanges,, 
(,,  
),,  !
;,,! "
return-- 
RedirectToAction-- #
(--# $
$str--$ +
)--+ ,
;--, -
}// 	
}00 
}11 …
\C:\Users\elvis\source\repos\WebApplication3\WebApplication3\Controllers\UsuarioController.cs
	namespace

 	
WebApplication3


 
.

 
Controllers

 %
{ 
public 

class 
UsuarioController "
:# $

Controller% /
{ 
Context 
context 
= 
Context !
.! "

GetContext" ,
(, -
)- .
;. /
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
context 
.  
Usuarios  (
.( )
ToList) /
(/ 0
)0 1
)1 2
;2 3
} 	
[ 	
HttpGet	 
] 
public 
ActionResult 
Create "
(" #
)# $
{% &
ViewBag 
. 
rol 
= 
context !
.! "
Rol" %
.% &
ToList& ,
(, -
)- .
;. /
return 
View 
( 
new 
Usuario #
(# $
)$ %
)% &
;& '
} 	
[ 	
HttpPost	 
] 
public 
ActionResult 
Create "
(" #
Usuario# *
usuario+ 2
)2 3
{5 6
ViewBag 
. 
rol 
= 
context !
.! "
Rol" %
.% &
ToList& ,
(, -
)- .
;. /
if 
( 
mValidaciones 
. 
Validar_Usuario -
(- .
usuario. 5
)5 6
.6 7
IsValid7 >
)> ?
{@ A
context 
. 
Usuarios  
.  !
Add! $
($ %
usuario% ,
), -
;- .
context 
. 
SaveChanges #
(# $
)$ %
;% &
return 
RedirectToAction '
(' (
$str( /
)/ 0
;0 1
}!! 
return"" 
View"" 
("" 
usuario"" 
)""  
;""  !
}## 	
}$$ 
}%% Ûp
ZC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Controllers\VentaController.cs
	namespace

 	
WebApplication3


 
.

 
Controllers

 %
{ 
public 

class 
VentaController  
:! "

Controller# -
{ 
Context 
context 
= 
Context !
.! "

GetContext" ,
(, -
)- .
;. /
public 
ActionResult 
Index !
(! "
)" #
{$ %
return 
View 
( 
context 
.  
ventas  &
.& '
Include' .
(. /
a/ 0
=>1 3
a4 5
.5 6
Usuario6 =
)= >
.> ?
Include? F
(F G
aG H
=>I K
aL M
.M N
ClienteN U
)U V
.V W
ToListW ]
(] ^
)^ _
)_ `
;` a
} 	
[ 	
HttpGet	 
] 
public 
ActionResult 
search "
(" #
)# $
{ 	
ViewBag 
. 
fechaMaxima 
=  !
DateTime" *
.* +
Today+ 0
.0 1
ToString1 9
(9 :
$str: F
)F G
;G H
return 
View 
( 
new 
List  
<  !
Venta! &
>& '
(' (
)( )
)) *
;* +
} 	
void 
validaFecha 
( 
DateTime !
?! "
	dateQuery# ,
), -
{. /
if 
( 
	dateQuery 
== 
null !
)! "

ModelState# -
.- .
AddModelError. ;
(; <
$str< C
,C D
$strE g
)g h
;h i
else 
{ 
var 
dateConsulta  
=! "
DateTime# +
.+ ,
Parse, 1
(1 2
	dateQuery2 ;
.; <
ToString< D
(D E
)E F
)F G
;G H
if 
( 
dateConsulta  
.  !
	CompareTo! *
(* +
DateTime+ 3
.3 4
Today4 9
)9 :
>; <
$num= >
)> ?

ModelState@ J
.J K
AddModelErrorK X
(X Y
$strY `
,` a
$str	b Ñ
)
Ñ Ö
;
Ö Ü
} 
}   	
[!! 	
HttpPost!!	 
]!! 
public"" 
ActionResult"" 
search"" "
(""" #
DateTime""# +
?""+ ,
	dateQuery""- 6
)""6 7
{## 	
ViewBag$$ 
.$$ 
fechaMaxima$$ 
=$$  !
DateTime$$" *
.$$* +
Today$$+ 0
.$$0 1
ToString$$1 9
($$9 :
$str$$: F
)$$F G
;$$G H
validaFecha%% 
(%% 
	dateQuery%% !
)%%! "
;%%" #
ViewBag&& 
.&& 
	dataquery&& 
=&& 
(&&  !
	dateQuery&&! *
!=&&+ -
null&&. 2
)&&2 3
?'' 
DateTime'' 
.'' 
Parse'' $
(''$ %
	dateQuery''% .
.''. /
ToString''/ 7
(''7 8
)''8 9
)''9 :
.'': ;
ToString''; C
(''C D
$str''D P
)''P Q
:(( 
$str(( 
;(( 
if)) 
()) 

ModelState)) 
.)) 
IsValid)) "
)))" #
{))$ %
var++ 
dateConsulta++  
=++! "
DateTime++# +
.+++ ,
Parse++, 1
(++1 2
	dateQuery++2 ;
.++; <
ToString++< D
(++D E
)++E F
)++F G
;++G H
var,, 
valor,, 
=,, 
dateConsulta,, (
.,,( )
ToString,,) 1
(,,1 2
$str,,2 >
),,> ?
as,,@ B
object,,C I
;,,I J
var-- 

ventasList-- 
=--  
context--! (
.--( )
ventas--) /
.--/ 0
Include--0 7
(--7 8
a--8 9
=>--9 ;
a--; <
.--< =
Usuario--= D
)--D E
.--E F
Where--F K
(--K L
a--L M
=>--N P
a--Q R
.--R S

fecha_hora--S ]
.--] ^
	CompareTo--^ g
(--g h
dateConsulta--h t
)--t u
<--v w
$num--x y
)--y z
.--z {
ToList	--{ Å
(
--Å Ç
)
--Ç É
;
--É Ñ
return.. 
View.. 
(.. 

ventasList.. &
)..& '
;..' (
}// 
return00 
View00 
(00 
)00 
;00 
}11 	
[22 	
HttpGet22	 
]22 
public33 
ActionResult33 
Create33 "
(33" #
)33# $
{33% &
ViewBag44 
.44 
usuario44 
=44 
context44 %
.44% &
Usuarios44& .
.44. /
ToList44/ 5
(445 6
)446 7
;447 8
ViewBag55 
.55 
cliente55 
=55 
context55 %
.55% &
Personas55& .
.55. /
ToList55/ 5
(555 6
)556 7
;557 8
ViewBag77 
.77 
comprobante77 
=77  !
$str77" $
;77$ %
return88 
View88 
(88 
context88 
.88  
	Articulos88  )
.88) *
Include88* 1
(881 2
a882 3
=>883 5
a885 6
.886 7
	categoria887 @
)88@ A
.88A B
Where88B G
(88G H
a88H I
=>88I K
a88K L
.88L M
	condicion88M V
==88V X
true88X \
&&88] _
a88` a
.88a b
stock88b g
>88g h
$num88h i
)88i j
.88j k
ToList88k q
(88q r
)88r s
)88s t
;88t u
}:: 	
public;; 
ActionResult;; 
AgregarArticulo;; +
(;;+ ,
int;;, /
id;;0 2
);;2 3
{;;4 5
var<< 
articulo<< 
=<< 
context<< "
.<<" #
	Articulos<<# ,
.<<, -
FirstOrDefault<<- ;
(<<; <
o<<< =
=><<> @
o<<A B
.<<B C
id<<C E
==<<F H
id<<I K
)<<K L
;<<L M
return== 
PartialView== 
(== 
articulo== '
)==' (
;==( )
}>> 	
[?? 	
HttpPost??	 
]?? 
public@@ 
ActionResult@@ 
Create@@ "
(@@" #
Venta@@# (
store@@) .
)@@. /
{AA 	
validarVentaBB 
(BB 
storeBB 
)BB 
;BB  
ifCC 
(CC 

ModelStateCC 
.CC 
IsValidCC "
)CC" #
{DD 
storeEE 
.EE 
totalEE 
=EE 
$numEE  
;EE  !
foreachFF 
(FF 
varFF 
detalleFF $
inFF% '
storeFF( -
.FF- .
detalle_ventaFF. ;
)FF; <
{GG 
detalleHH 
.HH 
precioHH "
=HH# $
contextHH% ,
.HH, -
	ArticulosHH- 6
.HH6 7
FindHH7 ;
(HH; <
detalleHH< C
.HHC D

idarticuloHHD N
)HHN O
.HHO P
precio_ventaHHP \
*HH] ^
detalleHH_ f
.HHf g
cantidadHHg o
;HHo p
detalleII 
.II 
	descuentoII %
=II& '
$numII( )
;II) *
storeJJ 
.JJ 
totalJJ 
+=JJ  "
detalleJJ# *
.JJ* +
precioJJ+ 1
;JJ1 2
}KK 
storeLL 
.LL 
impuestoLL 
=LL  
storeLL! &
.LL& '
totalLL' ,
*LL- .
$numLL/ 4
;LL4 5
storeMM 
.MM 

fecha_horaMM  
=MM! "
DateTimeMM# +
.MM+ ,
NowMM, /
;MM/ 0
storeNN 
.NN 
estadoNN 
=NN 
$strNN (
;NN( )
storeOO 
.OO 
	idclienteOO 
=OO  !
$numOO" #
;OO# $
storePP 
.PP 
	idusuarioPP 
=PP  !
$numPP" #
;PP# $
storeQQ 
.QQ 
serie_comprobanteQQ '
=QQ( )
storeQQ* /
.QQ/ 0
	idusuarioQQ0 9
.QQ9 :
ToStringQQ: B
(QQB C
)QQC D
+QQE F
storeQQG L
.QQL M
	idclienteQQM V
+QQW X
$strQQY _
+QQ_ `
storeQQ` e
.QQe f

fecha_horaQQf p
.QQp q
ToStringQQq y
(QQy z
)QQz {
;QQ{ |
contextRR 
.RR 
ventasRR 
.RR 
AddRR "
(RR" #
storeRR# (
)RR( )
;RR) *
contextSS 
.SS 
SaveChangesSS #
(SS# $
)SS$ %
;SS% &(
actualizaRegisrosProductosBDTT ,
(TT, -
storeTT- 2
.TT2 3
detalle_ventaTT3 @
)TT@ A
;TTA B
returnUU 
RedirectToActionUU '
(UU' (
$strUU( 0
)UU0 1
;UU1 2
}VV 
ViewBagWW 
.WW 
comprobanteWW 
=WW  !
storeWW" '
.WW' (
tipo_comprobanteWW( 8
;WW8 9
ViewBagXX 
.XX 
numeroXX 
=XX 
storeXX "
.XX" #
num_comprobanteXX# 2
;XX2 3
returnYY 
ViewYY 
(YY 
contextYY 
.YY  
	ArticulosYY  )
.YY) *
IncludeYY* 1
(YY1 2
aYY2 3
=>YY4 6
aYY7 8
.YY8 9
	categoriaYY9 B
)YYB C
.YYC D
WhereYYD I
(YYI J
aYYJ K
=>YYL N
aYYO P
.YYP Q
	condicionYYQ Z
==YY[ ]
trueYY^ b
)YYb c
.YYc d
ToListYYd j
(YYj k
)YYk l
)YYl m
;YYm n
}[[ 	
public\\ 
void\\ (
actualizaRegisrosProductosBD\\ 0
(\\0 1
List\\1 5
<\\5 6
Detalle_Venta\\6 C
>\\C D
productosComprados\\E W
)\\W X
{]] 	
foreach^^ 
(^^ 
var^^ 
productComprado^^ (
in^^) +
productosComprados^^, >
)^^> ?
{__ 
var`` 

productoBD`` 
=``  
context``! (
.``( )
	Articulos``) 2
.``2 3
Find``3 7
(``7 8
productComprado``8 G
.``G H

idarticulo``H R
)``R S
;``S T
ifaa 
(aa 

productoBDaa 
.aa 
stockaa $
>=aa% '
productCompradoaa( 7
.aa7 8
cantidadaa8 @
&&aaB D

productoBDaaE O
.aaO P
stockaaP U
>aaV W
$numaaX Y
)aaY Z
{aa[ \

productoBDbb 
.bb 
stockbb $
-=bb% '
productCompradobb( 7
.bb7 8
cantidadbb8 @
;bb@ A
}cc 
}dd 
contextee 
.ee 
SaveChangesee 
(ee  
)ee  !
;ee! "
}gg 	
publichh 
inthh 
?hh 
ReturnStock_Producthh (
(hh( )
inthh) ,
?hh, -
idhh. 0
)hh1 2
{hh3 4
ifii 
(ii 
idii 
!=ii 
nullii 
)ii 
{ii 
varjj 
isProductFindjj !
=jj" #
contextjj$ +
.jj+ ,
	Articulosjj, 5
.jj5 6
Findjj6 :
(jj: ;
idjj; =
)jj= >
;jj> ?
returnkk 
isProductFindkk $
.kk$ %
stockkk% *
;kk* +
}ll 
returnmm 
nullmm 
;mm 
}nn 	
publicoo 
voidoo 
validarVentaoo  
(oo  !
Ventaoo! &
ventaoo' ,
)oo, -
{pp 	
ifqq 
(qq 
Stringqq 
.qq 
IsNullOrEmptyqq $
(qq$ %
ventaqq% *
.qq* +
tipo_comprobanteqq+ ;
)qq; <
)qq< =
{qq> ?

ModelStaterr 
.rr 
AddModelErrorrr (
(rr( )
$strrr) ;
,rr; <
$strrr= ]
)rr] ^
;rr^ _
}ss 
iftt 
(tt 
Stringtt 
.tt 
IsNullOrEmptytt $
(tt$ %
ventatt% *
.tt* +
num_comprobantett+ :
)tt: ;
)tt; <
{uu 

ModelStatevv 
.vv 
AddModelErrorvv (
(vv( )
$strvv) :
,vv: ;
$strvv< ^
)vv^ _
;vv_ `
}ww 
ifxx 
(xx 
ventaxx 
.xx 
detalle_ventaxx #
==xx$ &
nullxx' +
||xx, .
ventaxx/ 4
.xx4 5
detalle_ventaxx5 B
.xxB C
CountxxC H
==xxI K
$numxxL M
)xxM N
{xxO P

ModelStatezz 
.zz 
AddModelErrorzz (
(zz( )
$strzz) 0
,zz0 1
$strzz2 G
)zzG H
;zzH I
}|| 
}
ÄÄ 	
}
ÅÅ 
}ÇÇ ¯
JC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Global.asax.cs
	namespace		 	
WebApplication3		
 
{

 
public 

class 
MvcApplication 
:  !
System" (
.( )
Web) ,
., -
HttpApplication- <
{ 
	protected 
void 
Application_Start (
(( )
)) *
{ 	
AreaRegistration 
. 
RegisterAllAreas -
(- .
). /
;/ 0
FilterConfig 
. !
RegisterGlobalFilters .
(. /
GlobalFilters/ <
.< =
Filters= D
)D E
;E F
RouteConfig 
. 
RegisterRoutes &
(& '

RouteTable' 1
.1 2
Routes2 8
)8 9
;9 :
BundleConfig 
. 
RegisterBundles (
(( )
BundleTable) 4
.4 5
Bundles5 <
)< =
;= >
} 	
} 
} º
[C:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\ClasesMap\ArticuloMap.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
	ClasesMap! *
{		 
public

 

class

 
ArticuloMap

 
:

 #
EntityTypeConfiguration

 5
<

5 6
Articulo

6 >
>

> ?
{ 
public 
ArticuloMap 
( 
) 
{ 	
ToTable 
( 
$str 
) 
;  
HasKey 
( 
a 
=> 
a 
. 
id 
) 
; 
Property 
( 
a 
=> 
a 
. 
id 
) 
.  
HasColumnName  -
(- .
$str. :
): ;
;; <
HasRequired 
( 
a 
=> 
a 
. 
	categoria (
)( )
.) *
WithMany* 2
(2 3
a3 4
=>5 7
a8 9
.9 :
	Articulos: C
)C D
.D E
HasForeignKeyE R
(R S
aS T
=>U W
aX Y
.Y Z
idcategoriaZ e
)e f
;f g
} 	
} 
} Ò
\C:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\ClasesMap\CategoriaMap.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
	ClasesMap! *
{		 
public

 

class

 
CategoriaMap

 
:

 #
EntityTypeConfiguration

 6
<

6 7
	Categoria

7 @
>

@ A
{ 
public 
CategoriaMap 
( 
) 
{ 	
ToTable 
( 
$str 
)  
;  !
HasKey 
( 
a 
=> 
a 
. 
id 
) 
; 
Property 
( 
a 
=> 
a 
. 
id 
) 
.  
HasColumnName  -
(- .
$str. ;
); <
;< =
} 	
} 
} â
bC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\ClasesMap\Detalle_IngresoMap.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
	ClasesMap! *
{		 
public

 

class

 
Detalle_IngresoMap

 #
:

$ %#
EntityTypeConfiguration

& =
<

= >
Detalle_Ingreso

> M
>

M N
{ 
public 
Detalle_IngresoMap !
(! "
)" #
{ 	
ToTable 
( 
$str %
)% &
;& '
HasKey 
( 
a 
=> 
a 
. 
id 
) 
; 
Property 
( 
a 
=> 
a 
. 
id 
) 
.  
HasColumnName  -
(- .
$str. A
)A B
;B C
} 	
} 
} Å
`C:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\ClasesMap\Detalle_VentaMap.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
	ClasesMap! *
{		 
public

 

class

 
Detalle_VentaMap

 !
:

" ##
EntityTypeConfiguration

$ ;
<

; <
Detalle_Venta

< I
>

I J
{ 
public 
Detalle_VentaMap 
(  
)  !
{ 	
ToTable 
( 
$str #
)# $
;$ %
HasKey 
( 
a 
=> 
a 
. 
id 
) 
; 
Property 
( 
a 
=> 
a 
. 
id 
) 
.  
HasColumnName  -
(- .
$str. ?
)? @
;@ A
} 	
} 
} ”
ZC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\ClasesMap\IngresoMap.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
	ClasesMap! *
{		 
public

 

class

 

IngresoMap

 
:

 #
EntityTypeConfiguration

 3
<

3 4
Ingreso

4 ;
>

; <
{ 
public 

IngresoMap 
( 
) 
{ 	
ToTable 
( 
$str 
) 
; 
HasKey 
( 
a 
=> 
a 
. 
id 
) 
; 
Property 
( 
a 
=> 
a 
. 
id 
) 
.  
HasColumnName  -
(- .
$str. 9
)9 :
;: ;
HasRequired 
( 
a 
=> 
a 
. 
Usuario &
)& '
.' (
WithMany( 0
(0 1
a1 2
=>3 5
a6 7
.7 8
Ingresos8 @
)@ A
.A B
HasForeignKeyB O
(O P
aP Q
=>R T
aU V
.V W
	idusuarioW `
)` a
;a b
HasRequired 
( 
a 
=> 
a 
. 
	Proveedor (
)( )
.) *
WithMany* 2
(2 3
a3 4
=>5 7
a8 9
.9 :
Ingresos: B
)B C
.C D
HasForeignKeyD Q
(Q R
aR S
=>T V
aW X
.X Y
idproveedorY d
)d e
;e f
HasMany 
( 
a 
=> 
a 
. 
detalle_Ingresos +
)+ ,
., -
WithRequired- 9
(9 :
a: ;
=>< >
a? @
.@ A
IngresoA H
)H I
.I J
HasForeignKeyJ W
(W X
aX Y
=>Z \
a] ^
.^ _
	idingreso_ h
)h i
;i j
} 	
} 
} È
ZC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\ClasesMap\PersonaMap.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
	ClasesMap! *
{		 
public

 

class

 

PersonaMap

 
:

 #
EntityTypeConfiguration

 3
<

3 4
Persona

4 ;
>

; <
{ 
public 

PersonaMap 
( 
) 
{ 	
ToTable 
( 
$str 
) 
; 
HasKey 
( 
a 
=> 
a 
. 
id 
) 
; 
Property 
( 
a 
=> 
a 
. 
id 
) 
.  
HasColumnName  -
(- .
$str. 9
)9 :
;: ;
} 	
} 
} Ÿ
VC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\ClasesMap\RolMap.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
	ClasesMap! *
{		 
public

 

class

 
RolMap

 
:

 #
EntityTypeConfiguration

 /
<

/ 0
Rol

0 3
>

3 4
{ 
public 
RolMap 
( 
) 
{ 	
ToTable 
( 
$str 
) 
; 
HasKey 
( 
a 
=> 
a 
. 
id 
) 
; 
Property 
( 
a 
=> 
a 
. 
id 
) 
.  
HasColumnName  -
(- .
$str. 5
)5 6
;6 7
} 	
} 
} ¨
ZC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\ClasesMap\UsuarioMap.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
	ClasesMap! *
{		 
public

 

class

 

UsuarioMap

 
:

 #
EntityTypeConfiguration

 4
<

4 5
Usuario

5 <
>

< =
{ 
public 

UsuarioMap 
( 
) 
{ 	
ToTable 
( 
$str 
) 
; 
HasKey 
( 
a 
=> 
a 
. 
id 
) 
; 
Property 
( 
a 
=> 
a 
. 
id 
) 
.  
HasColumnName  -
(- .
$str. 9
)9 :
;: ;
HasRequired 
( 
a 
=> 
a 
. 
roll #
)# $
.$ %
WithMany% -
(- .
a. /
=>0 2
a3 4
.4 5
Usuarios5 =
)= >
.> ?
HasForeignKey? L
(L M
aM N
=>O Q
aR S
.S T
idrolT Y
)Y Z
;Z [
} 	
} 
} º
XC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\ClasesMap\VentaMap.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
	ClasesMap! *
{		 
public

 

class

 
VentaMap

 
:

 #
EntityTypeConfiguration

 3
<

3 4
Venta

4 9
>

9 :
{ 
public 
VentaMap 
( 
) 
{ 	
ToTable 
( 
$str 
) 
; 
HasKey 
( 
a 
=> 
a 
. 
id 
) 
; 
Property 
( 
a 
=> 
a 
. 
id 
) 
.  
HasColumnName  -
(- .
$str. 7
)7 8
;8 9
HasRequired 
( 
a 
=> 
a 
. 
Usuario &
)& '
.' (
WithMany( 0
(0 1
a1 2
=>3 5
a6 7
.7 8
ventas8 >
)> ?
.? @
HasForeignKey@ M
(M N
aN O
=>P R
aS T
.T U
	idusuarioU ^
)^ _
;_ `
HasRequired 
( 
a 
=> 
a 
. 
Cliente &
)& '
.' (
WithMany( 0
(0 1
a1 2
=>3 5
a6 7
.7 8
ventas8 >
)> ?
.? @
HasForeignKey@ M
(M N
aN O
=>P R
aS T
.T U
	idclienteU ^
)^ _
;_ `
HasMany 
( 
a 
=> 
a 
. 
detalle_venta (
)( )
.) *
WithRequired* 6
(6 7
a7 8
=>9 ;
a< =
.= >
Venta> C
)C D
.D E
HasForeignKeyE R
(R S
aS T
=>U W
aX Y
.Y Z
idventaZ a
)a b
;b c
} 	
} 
} Ù
UC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\Clases\Articulo.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
Clases! '
{ 
public 

class 
Articulo 
{		 
public

 
int

 
?

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
? 
idcategoria 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
codigo 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
nombre 
{ 
get !
;! "
set# &
;& '
}( )
public 
decimal 
? 
precio_venta $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
int 
? 
stock 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
bool 
	condicion 
{ 
get  #
;# $
set% (
;( )
}* +
public 
	Categoria 
	categoria "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} ã	
VC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\Clases\Categoria.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
Clases! '
{ 
public 

class 
	Categoria 
{		 
public

 
int

 
?

 
id

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 
string 
nombre 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
bool 
	condicion 
{ 
get  #
;# $
set% (
;( )
}* +
public 
List 
< 
Articulo 
> 
	Articulos '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
} 
} Í	
\C:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\Clases\Detalle_Ingreso.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
Clases! '
{ 
public 

class 
Detalle_Ingreso  
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
	idingreso 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 

idarticulo 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
cantidad 
{ 
get  
;  !
set! $
;$ %
}% &
public 
decimal 
precio 
{ 
get  #
;# $
set% (
;( )
}* +
public 
Ingreso 
Ingreso 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ç
ZC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\Clases\Detalle_Venta.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
Clases! '
{ 
public 

class 
Detalle_Venta 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
idventa 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 

idarticulo 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
cantidad 
{ 
get  
;  !
set! $
;$ %
}% &
public 
decimal 
? 
precio 
{ 
get  #
;# $
set% (
;( )
}* +
public 
decimal 
	descuento  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
Venta 
Venta 
{ 
get  
;  !
set" %
;% &
}' (
} 
} ˇ
TC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\Clases\Ingreso.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
Clases! '
{ 
public 

class 
Ingreso 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
idproveedor 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
	idusuario 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
tipo_comprobante &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
string 
serie_comprobante '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
num_comprobante %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateTime 

fecha_hora "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
decimal 
inpuesto 
{  !
get" %
;% &
set' *
;* +
}, -
public 
decimal 
total 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
estado 
{ 
get "
;" #
set$ '
;' (
}) *
public 
List 
< 
Detalle_Ingreso #
># $
detalle_Ingresos% 5
{6 7
get7 :
;: ;
set; >
;> ?
}? @
public 
Persona 
	Proveedor  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
Usuario 
Usuario 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ∫
TC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\Clases\Persona.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
Clases! '
{ 
public 

class 
Persona 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nombre 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
tipo_persona "
{# $
get$ '
;' (
set( +
;+ ,
}, -
public 
string 
tipo_documento $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
num_documento #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
	direccion 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
telefono 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
email 
{ 
get !
;! "
set# &
;& '
}( )
public 
List 
< 
Ingreso 
> 
Ingresos %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
List 
< 
Venta 
> 
ventas !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} Ó
PC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\Clases\Rol.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
Clases! '
{ 
public 

class 
Rol 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
nombre 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
descripcion !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
bool 
	condicion 
{ 
get  #
;# $
set% (
;( )
}* +
public 
List 
< 
Usuario 
> 
Usuarios %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} ±
TC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\Clases\Usuario.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
Clases! '
{ 
public 

class 
Usuario 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
? 
idrol 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
nombre 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
tipo_documento $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
num_documento #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
	direccion 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
telefono 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
email 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
password_hash #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
password_salt #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
bool 
	condicion 
{ 
get  #
;# $
set% (
;( )
}* +
public 
Rol 
roll 
{ 
get 
; 
set "
;" #
}$ %
public 
List 
< 
Ingreso 
> 
Ingresos %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
List 
< 
Venta 
> 
ventas !
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
} Æ
RC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\Clases\Venta.cs
	namespace 	
WebApplication3
 
. 
Models  
.  !
Clases! '
{ 
public 

class 
Venta 
{		 
public

 
int

 
id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
int 
? 
	idcliente 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
? 
	idusuario 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
tipo_comprobante &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
string 
serie_comprobante '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
num_comprobante %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateTime 

fecha_hora "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
decimal 
? 
impuesto  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
decimal 
? 
total 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
estado 
{ 
get "
;" #
set$ '
;' (
}) *
public 
List 
< 
Detalle_Venta !
>! "
detalle_venta# 0
{0 1
get2 5
;5 6
set7 :
;: ;
}< =
public 
Persona 
Cliente 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
Usuario 
Usuario 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ◊)
MC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Models\Context.cs
	namespace		 	
WebApplication3		
 
.		 
Models		  
{

 
public 

class 
Context 
: 
	DbContext "
{ 
public 
IDbSet 
< 
Articulo 
> 
	Articulos  )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
IDbSet 
< 
	Categoria 
>  

Categorias! +
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
IDbSet 
< 
Persona 
> 
Personas '
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
IDbSet 
< 
Rol 
> 
Rol 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
IDbSet 
< 
Venta 
> 
ventas #
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
IDbSet 
< 
Detalle_Venta #
># $
Detalle_Ventas% 3
{3 4
get5 8
;8 9
set: =
;= >
}? @
public 
IDbSet 
< 
Ingreso 
> 
Ingresos '
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
IDbSet 
< 
Detalle_Ingreso %
>% &
Detalle_Ingresos' 7
{7 8
get9 <
;< =
set> A
;A B
}C D
public 
IDbSet 
< 
Usuario 
> 
Usuarios '
{' (
get) ,
;, -
set. 1
;1 2
}3 4
private 
static 
Context 
context &
;& '
private 
Context 
( 
) 
{ 	
Database 
. 
SetInitializer #
<# $
Context$ +
>+ ,
(, -
null- 1
)1 2
;2 3
} 	
public 
static 
Context 

GetContext (
(( )
)) *
{+ ,
if 
( 
context 
== 
null 
)  
{! "
context 
= 
new 
Context %
(% &
)& '
;' (
} 
return   
context   
;   
}!! 	
	protected## 
override## 
void## 
OnModelCreating##  /
(##/ 0
DbModelBuilder##0 >
modelBuilder##? K
)##K L
{$$ 	
base%% 
.%% 
OnModelCreating%%  
(%%  !
modelBuilder%%! -
)%%- .
;%%. /
modelBuilder&& 
.&& 
Configurations&& '
.&&' (
Add&&( +
(&&+ ,
new&&, /
ArticuloMap&&0 ;
(&&; <
)&&< =
)&&= >
;&&> ?
modelBuilder'' 
.'' 
Configurations'' '
.''' (
Add''( +
(''+ ,
new'', /
CategoriaMap''0 <
(''< =
)''= >
)''> ?
;''? @
modelBuilder(( 
.(( 
Configurations(( '
.((' (
Add((( +
(((+ ,
new((, /

PersonaMap((0 :
(((: ;
)((; <
)((< =
;((= >
modelBuilder)) 
.)) 
Configurations)) '
.))' (
Add))( +
())+ ,
new)), /
RolMap))0 6
())6 7
)))7 8
)))8 9
;))9 :
modelBuilder** 
.** 
Configurations** '
.**' (
Add**( +
(**+ ,
new**, /

UsuarioMap**0 :
(**: ;
)**; <
)**< =
;**= >
modelBuilder++ 
.++ 
Configurations++ '
.++' (
Add++( +
(+++ ,
new++, /
VentaMap++0 8
(++8 9
)++9 :
)++: ;
;++; <
modelBuilder,, 
.,, 
Configurations,, '
.,,' (
Add,,( +
(,,+ ,
new,,, /
Detalle_VentaMap,,0 @
(,,@ A
),,A B
),,B C
;,,C D
modelBuilder-- 
.-- 
Configurations-- '
.--' (
Add--( +
(--+ ,
new--, /

IngresoMap--0 :
(--: ;
)--; <
)--< =
;--= >
modelBuilder.. 
... 
Configurations.. '
...' (
Add..( +
(..+ ,
new.., /
Detalle_IngresoMap..0 B
(..B C
)..C D
)..D E
;..E F
}// 	
}00 
}11 Å
VC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str *
)* +
]+ ,
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str ,
), -
]- .
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
["" 
assembly"" 	
:""	 

AssemblyVersion"" 
("" 
$str"" $
)""$ %
]""% &
[## 
assembly## 	
:##	 

AssemblyFileVersion## 
(## 
$str## (
)##( )
]##) *¸'
dC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Servicio\ServiceClass\ArticuloService.cs
	namespace 	
WebApplication3
 
. 
Servicio "
{ 
public 

class 
ArticuloService !
:" #
IServiceArticulo$ 4
{ 
private 
Context 
context 
;  
public 
ArticuloService 
( 
)  
{ 	
context 
= 
Context 
. 

GetContext (
(( )
)) *
;* +
} 	
public 
List 
< 
Articulo 
> 
ArtsList &
(& '
)' (
{ 	
return 
context 
. 
	Articulos $
.$ %
ToList% +
(+ ,
), -
;- .
} 	
public 
Articulo 
FindArt 
(  
int  #
?# $
id% '
)' (
{) *
if 
( 
id 
== 
null 
) 
{ 
return $
null% )
;) *
}+ ,
return 
context 
. 
	Articulos $
.$ %
Find% )
() *
id* ,
), -
;- .
} 	
public 
List 
< 
Articulo 
> #
ArtsListIncludeCategory 5
(5 6
)6 7
{8 9
return 
context 
. 
	Articulos "
." #
Include# *
(* +
a+ ,
=>- /
a0 1
.1 2
	categoria2 ;
); <
.< =
ToList= C
(C D
)D E
;E F
} 	
public   
void   
ArtAdd   
(   
Articulo   #
articulo  $ ,
)  , -
{  . /
context!! 
.!! 
	Articulos!! 
.!! 
Add!! !
(!!! "
articulo!!" *
)!!* +
;!!+ ,
}"" 	
public## 
Articulo## 
ArtIncludeCategory## *
(##* +
int##+ .
?##. /
id##0 2
)##2 3
{##4 5
if$$ 
($$ 
id$$ 
==$$ 
null$$ 
)$$ 
return$$ "
null$$# '
;$$' (
return%% 
context%% 
.%% 
	Articulos%% $
.%%$ %
Include%%% ,
(%%, -
a%%- .
=>%%/ 1
a%%2 3
.%%3 4
	categoria%%4 =
)%%= >
.%%> ?
Where%%? D
(%%D E
a%%E F
=>%%G I
a%%J K
.%%K L
id%%L N
==%%O Q
id%%R T
)%%T U
.%%U V
First%%V [
(%%[ \
)%%\ ]
;%%] ^
}&& 	
public'' 
void'' 
ArtDrop'' 
('' 
int'' 
?''  
id''! #
)''$ %
{''& '
if(( 
((( 
id(( 
!=(( 
$num(( 
||(( 
id(( 
!=((  
null((! %
)((% &
context((' .
.((. /
	Articulos((/ 8
.((8 9
Remove((9 ?
(((? @
context((@ G
.((G H
	Articulos((H Q
.((Q R
Find((R V
(((V W
id((W Y
)((Y Z
)((Z [
;(([ \
})) 	
public** 
List** 
<** 
Articulo** 
>** -
!ArtsListInlcudeCategoryEqualsName** ?
(**? @
string**@ F
query**G L
)**L M
{**N O
if++ 
(++ 
String++ 
.++ 
IsNullOrEmpty++ $
(++$ %
query++% *
)++* +
)+++ ,
return++- 3
(++4 5
new++5 8
List++9 =
<++= >
Articulo++> F
>++F G
(++G H
)++H I
)++I J
;++J K
return,, 
context,, 
.,, 
	Articulos,, $
.,,$ %
Include,,% ,
(,,, -
a,,- .
=>,,/ 1
a,,2 3
.,,3 4
	categoria,,4 =
),,= >
.,,> ?
Where,,? D
(,,D E
a,,E F
=>,,G I
a,,J K
.,,K L
nombre,,L R
.,,R S
Equals,,S Y
(,,Y Z
query,,Z _
),,_ `
),,` a
.,,a b
ToList,,b h
(,,h i
),,i j
;,,j k
}-- 	
public.. 
void.. 
SaveChanges.. 
(..  
)..  !
{.." #
context// 
.// 
SaveChanges// 
(//  
)//  !
;//! "
}00 	
}11 
}22 Ö
YC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Servicio\Loggin\UserLogged.cs
	namespace 	
WebApplication3
 
. 
Servicio "
." #
Loggin# )
{ 
public 

class 

UserLogged 
{		 
public

 
string

 
nombre

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 
string 
contrasenna !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} à

OC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Servicio\Service.cs
	namespace		 	
WebApplication3		
 
.		 
Servicio		 "
.		" #
ServiceClass		# /
{

 
public 

class 
Service 
: 
IService !
{ 
private 
Context 
context 
;  
public 
Service 
( 
) 
{ 	
this 
. 
context 
= 
Context "
." #

GetContext# -
(- .
). /
;/ 0
} 	
public 
List 
< 
Articulo 
> 
articulosList +
(+ ,
), -
{. /
return 
context 
. 
	Articulos $
.$ %
ToList% +
(+ ,
), -
;- .
} 	
} 
public 

	interface 
IService 
{ 
List 
< 
Articulo 
> 
articulosList $
($ %
)% &
;& '
} 
} Ê
eC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Servicio\ServiceClass\CategoriaService.cs
	namespace		 	
WebApplication3		
 
.		 
Servicio		 "
.		" #
ServiceClass		# /
{

 
public 

class 
CategoriaService !
:" #
IServiceCategoria$ 5
{ 
private 
Context 
context 
=  !
Context" )
.) *

GetContext* 4
(4 5
)5 6
;6 7
public 
List 
< 
	Categoria 
> 
CatsList '
(' (
)( )
{* +
return 
context 
. 

Categorias %
.% &
ToList& ,
(, -
)- .
;. /
} 	
public 
void 
CatAdd 
( 
	Categoria $
	categoria% .
). /
{0 1
if 
( 
	categoria 
!= 
null !
)! "
{# $
context 
. 

Categorias "
." #
Add# &
(& '
	categoria' 0
)0 1
;1 2
} 
} 	
public 
	Categoria 
CatFind  
(  !
int! $
?$ %
id& (
)( )
{* +
if 
( 
id 
== 
null 
) 
return !
new" %
	Categoria& /
(/ 0
)0 1
;1 2
return 
context 
. 

Categorias %
.% &
Find& *
(* +
id+ -
)- .
;. /
} 	
public 
List 
< 
	Categoria 
> 
CatsListEqualsName 1
(1 2
string2 8
query9 >
)> ?
{@ A
return 
String 
. 
IsNullOrEmpty '
(' (
query( -
)- .
?/ 0
new1 4
List5 9
<9 :
	Categoria: C
>C D
(D E
)E F
:F G
contextG N
.N O

CategoriasO Y
.Y Z
WhereZ _
(_ `
a` a
=>b d
ae f
.f g
nombreg m
.m n
Equalsn t
(t u
queryu z
)z {
){ |
.| }
ToList	} É
(
É Ñ
)
Ñ Ö
;
Ö Ü
} 	
public 
void 
CatDrop 
( 
int 
?  
id! #
)# $
{% &
if   
(   
id   
!=   
null   
||   
id    
>  ! "
$num  # $
)  $ %
context!! 
.!! 

Categorias!! "
.!!" #
Remove!!# )
(!!) *
context!!* 1
.!!1 2

Categorias!!2 <
.!!< =
Find!!= A
(!!A B
id!!B D
)!!D E
)!!E F
;!!F G
}## 	
public$$ 
void$$ 
SaveChanges$$ 
($$  
)$$  !
{%% 	
context&& 
.&& 
SaveChanges&& 
(&&  
)&&  !
;&&! "
}'' 	
public)) 
bool)) 
	SiesUnico)) 
()) 
string)) $
nombre))% +
))), -
{** 	
return++ 
context++ 
.++ 

Categorias++ %
.++% &
Any++& )
(++) *
a++* +
=>++, .
a++/ 0
.++0 1
nombre++1 7
==++8 :
nombre++; A
)++A B
;++B C
},, 	
}-- 
}.. –
iC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Servicio\ServiceInterface\IServiceArticulo.cs
	namespace 	
WebApplication3
 
. 
Servicio "
." #
ServiceInterface# 3
{		 
public

 

	interface

 
IServiceArticulo

 %
{ 
List 
< 
Articulo 
> 
ArtsList 
(  
)  !
;! "
Articulo 
FindArt 
( 
int 
? 
id  
)  !
;! "
List 
< 
Articulo 
> #
ArtsListIncludeCategory .
(. /
)/ 0
;0 1
void 
ArtAdd 
( 
Articulo 
articulo %
)% &
;& '
Articulo 
ArtIncludeCategory #
(# $
int$ '
?' (
id) +
)+ ,
;, -
void 
ArtDrop 
( 
int 
? 
id 
) 
; 
List 
< 
Articulo 
> -
!ArtsListInlcudeCategoryEqualsName 8
(8 9
string9 ?
query@ E
)E F
;F G
void 
SaveChanges 
( 
) 
; 
} 
} õ

jC:\Users\elvis\source\repos\WebApplication3\WebApplication3\Servicio\ServiceInterface\IServiceCategoria.cs
	namespace 	
WebApplication3
 
. 
Servicio "
." #
ServiceInterface# 3
{		 
public

 	
	interface

 
IServiceCategoria

 &
{ 
List 
< 
	Categoria 
> 
CatsList  
(  !
)! "
;" #
void 
SaveChanges 
( 
) 
; 
void 
CatAdd 
( 
	Categoria 
	categoria '
)' (
;( )
	Categoria 
CatFind 
( 
int 
? 
id !
)! "
;" #
List 
< 
	Categoria 
> 
CatsListEqualsName *
(* +
string+ 1
query2 7
)7 8
;8 9
void 
CatDrop 
( 
int 
? 
id 
) 
; 
bool 
	SiesUnico 
( 
string 
nombre $
)% &
;& '
} 
} ñG
`C:\Users\elvis\source\repos\WebApplication3\WebApplication3\Sources\Validations\mValidaciones.cs
	namespace

 	
WebApplication3


 
.

 
Sources

 !
.

! "
Validations

" -
{ 
public 

class 
mValidaciones 
{ 
static 
Regex 
rx 
= 
new 
Regex #
(# $
$str$ k
)k l
;l m
public 
static  
ModelStateDictionary *
Validar_Usuario+ :
(: ;
Usuario; B
usuarioC J
)J K
{L M 
ModelStateDictionary  

ModelState! +
=, -
new. 1 
ModelStateDictionary2 F
(F G
)G H
;H I
if 
( 
string 
. 
IsNullOrEmpty $
($ %
usuario% ,
., -
nombre- 3
)3 4
)4 5
{6 7

ModelState 
. 
AddModelError (
(( )
$str) 1
,1 2
$str2 B
)B C
;C D
} 
if 
( 
string 
. 
IsNullOrEmpty $
($ %
usuario% ,
., -
	direccion- 6
)6 7
)7 8
{9 :

ModelState 
. 
AddModelError (
(( )
$str) 4
,4 5
$str6 T
)T U
;U V
} 
if 
( 
string 
. 
IsNullOrEmpty $
($ %
usuario% ,
., -
email- 2
)2 3
||3 5
!5 6
rx6 8
.8 9
IsMatch9 @
(@ A
usuarioA H
.H I
emailI N
)N O
)O P
{Q R

ModelState 
. 
AddModelError (
(( )
$str) 0
,0 1
$str2 K
)K L
;L M
} 
if 
( 
string 
. 
IsNullOrEmpty $
($ %
usuario% ,
., -
num_documento- :
): ;
); <
{= >

ModelState 
. 
AddModelError (
(( )
$str) 8
,8 9
$str: b
)b c
;c d
} 
if 
( 
string 
. 
IsNullOrEmpty $
($ %
usuario% ,
., -
tipo_documento- ;
); <
)< =
{> ?

ModelState   
.   
AddModelError   (
(  ( )
$str  ) 9
,  9 :
$str  ; a
)  a b
;  b c
}!! 
if"" 
("" 
string"" 
."" 
IsNullOrEmpty"" $
(""$ %
usuario""% ,
."", -
telefono""- 5
)""5 6
||""7 9
usuario""9 @
.""@ A
telefono""A I
.""I J
Length""J P
>""Q R
$num""S U
)""V W
{## 

ModelState$$ 
.$$ 
AddModelError$$ (
($$( )
$str$$) 3
,$$3 4
$str$$5 P
)$$P Q
;$$Q R
}%% 
if&& 
(&& 
usuario&& 
.&& 
idrol&& 
==&& !
null&&! %
||&&& (
usuario&&) 0
.&&0 1
idrol&&1 6
<&&7 8
$num&&9 :
)&&: ;
{'' 

ModelState(( 
.(( 
AddModelError(( (
(((( )
$str(() 0
,((0 1
$str((2 J
)((J K
;((K L
})) 
return11 

ModelState11 
;11 
}22 	
public33 
static33 
void33 
Validar_Rol33 '
(33' (
Rol33( +
rol33, /
,33/ 0 
ModelStateDictionary44  

modelState44! +
)44+ ,
{44- .
if66 
(66 
string66 
.66 
IsNullOrEmpty66 $
(66$ %
rol66% (
.66( )
nombre66) /
)66/ 0
)660 1

modelState662 <
.66< =
AddModelError66= J
(66J K
$str66K S
,66S T
$str66U o
)66o p
;66p q
if77 
(77 
string77 
.77 
IsNullOrEmpty77 $
(77$ %
rol77% (
.77( )
descripcion77) 4
)774 5
)775 6

modelState777 A
.77A B
AddModelError77B O
(77O P
$str77P ]
,77] ^
$str77_ x
)77x y
;77y z
}99 	
public:: 
static::  
ModelStateDictionary:: *
Validar_Articulo::+ ;
(::; <
Articulo::< D
articulo::E M
)::M N
{;; 	 
ModelStateDictionary<<  

ModelState<<! +
=<<, -
new<<. 1 
ModelStateDictionary<<2 F
(<<F G
)<<G H
;<<H I
if== 
(== 
string== 
.== 
IsNullOrEmpty== $
(==$ %
articulo==% -
.==- .
nombre==. 4
)==4 5
)==5 6
{>> 

ModelState?? 
.?? 
AddModelError?? (
(??( )
$str??) 1
,??1 2
$str??3 C
)??C D
;??D E
}@@ 
ifAA 
(AA 
stringAA 
.AA 
IsNullOrEmptyAA $
(AA$ %
articuloAA% -
.AA- .
codigoAA. 4
)AA4 5
)AA5 6
{BB 

ModelStateCC 
.CC 
AddModelErrorCC (
(CC( )
$strCC) 1
,CC1 2
$strCC3 N
)CCN O
;CCO P
}DD 
ifEE 
(EE 
stringEE 
.EE 
IsNullOrEmptyEE $
(EE$ %
articuloEE% -
.EE- .
descripcionEE. 9
)EE9 :
)EE: ;
{FF 

ModelStateGG 
.GG 
AddModelErrorGG (
(GG( )
$strGG) 6
,GG6 7
$strGG8 Q
)GGQ R
;GGR S
}HH 
ifII 
(II 
articuloII 
.II 
precio_ventaII %
==II& (
nullII) -
||II. 0
articuloII1 9
.II9 :
precio_ventaII: F
<IIG H
$numIII J
)IIJ K
{JJ 

ModelStateKK 
.KK 
AddModelErrorKK (
(KK( )
$strKK) 6
,KK6 7
$strKK8 S
)KKS T
;KKT U
}LL 
ifMM 
(MM 
articuloMM 
.MM 
stockMM 
==MM !
nullMM" &
||MM' )
articuloMM* 2
.MM2 3
stockMM3 8
<MM8 9
$numMM9 :
)MM: ;
{NN 

ModelStateOO 
.OO 
AddModelErrorOO (
(OO( )
$strOO) 1
,OO1 2
$strOO3 L
)OOL M
;OOM N
}PP 
ifQQ 
(QQ 
articuloQQ 
.QQ 
idcategoriaQQ $
==QQ% '
nullQQ( ,
||QQ- /
articuloQQ0 8
.QQ8 9
idcategoriaQQ9 D
<QQD E
$numQQE F
)QQF G
{RR 

ModelStateSS 
.SS 
AddModelErrorSS (
(SS( )
$strSS) 6
,SS6 7
$strSS8 W
)SSW X
;SSX Y
}TT 
returnUU 

ModelStateUU 
;UU 
}VV 	
publicWW  
ModelStateDictionaryWW $
Validar_CategoriaWW% 6
(WW6 7
	CategoriaWW7 @
	categoriaWWA J
)WWJ K
{WWL M 
ModelStateDictionaryYY  

ModelStateYY! +
=YY, -
newYY. 1 
ModelStateDictionaryYY2 F
(YYF G
)YYG H
;YYH I
ifZZ 
(ZZ 
StringZZ 
.ZZ 
IsNullOrEmptyZZ $
(ZZ$ %
	categoriaZZ% .
.ZZ. /
nombreZZ/ 5
)ZZ5 6
)ZZ6 7
{ZZ8 9

ModelState[[ 
.[[ 
AddModelError[[ (
([[( )
$str[[) 1
,[[1 2
$str[[3 F
)[[F G
;[[G H
}\\ 
if]] 
(]] 
String]] 
.]] 
IsNullOrEmpty]] $
(]]$ %
	categoria]]% .
.]]. /
descripcion]]/ :
)]]: ;
)]]; <
{]]= >

ModelState^^ 
.^^ 
AddModelError^^ (
(^^( )
$str^^) 6
,^^6 7
$str^^8 Q
)^^Q R
;^^R S
}__ 
return`` 

ModelState`` 
;`` 
}bb 	
}cc 
}ee 